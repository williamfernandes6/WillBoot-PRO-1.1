<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IA PREDITOR - ELEPHANTBET</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { height: 100%; width: 100%; background: #000; overflow: hidden; font-family: sans-serif; }

        /* Frame do Jogo ElephantBet */
        #game-area {
            height: 75%; /* Ajustado para mobile */
            width: 100%;
            border: none;
        }

        /* Painel de Sinais Profissional */
        #ia-footer {
            height: 25%;
            width: 100%;
            background: #121417;
            border-top: 2px solid #d9185c;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 10px;
        }

        .status { font-size: 1.2rem; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .sub-text { font-size: 0.8rem; color: #848689; margin-top: 4px; }
        
        /* Cores de Alerta IA */
        .rosa { color: #ff007a; }
        .roxo { color: #a020f0; }
        .azul { color: #007aff; }

        .loading-bar {
            width: 70%;
            height: 4px;
            background: #2a2e38;
            margin-top: 10px;
            border-radius: 2px;
            overflow: hidden;
        }
        .fill {
            height: 100%;
            width: 0%;
            background: #d9185c;
            transition: width 0.5s ease;
        }
    </style>
</head>
<body>

    <iframe id="game-area" src="https://m.elephantbet.co.ao/pt/game/aviator"></iframe>

    <div id="ia-footer">
        <div id="signal" class="status">Sincronizando IA...</div>
        <div id="strategy" class="sub-text">Aguardando dados do Render</div>
        <div class="loading-bar"><div id="bar-fill" class="fill"></div></div>
    </div>

    <script>
        // LIGAÇÃO AO TEU RENDER ONLINE
        const socket = io("https://ia-backend-aviator.onrender.com");

        socket.on("connect", () => {
            document.getElementById("signal").innerText = "SISTEMA ONLINE";
            console.log("Conectado ao Render!");
        });

        socket.on("receber_sinal", (dados) => {
            const signalDiv = document.getElementById("signal");
            const bar = document.getElementById("bar-fill");
            
            signalDiv.innerText = dados.sinal;
            signalDiv.className = "status " + dados.cor;
            document.getElementById("strategy").innerText = dados.estrategia || dados.motivo;
            
            // Atualiza barra de confiança
            const conf = dados.confianca ? parseInt(dados.confianca) : 0;
            bar.style.width = conf + "%";
            
            // Vibração no telemóvel para sinais fortes
            if(conf >= 90) window.navigator.vibrate([100, 50, 100]);
        });

        // Se o Render estiver a "dormir", ele avisa aqui
        socket.on("connect_error", () => {
            document.getElementById("signal").innerText = "IA A ACORDAR...";
            document.getElementById("strategy").innerText = "O Render demora até 50s para ligar.";
        });
    </script>
</body>
</html>
