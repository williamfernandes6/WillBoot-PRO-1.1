<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IA PREDITOR PREMIUM</title>
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; text-align: center; }
        
        /* Card Principal */
        #main-card { background: #1a1d21; border: 2px solid #2a2e38; padding: 40px 20px; border-radius: 20px; width: 85%; box-shadow: 0 10px 30px rgba(0,0,0,0.8); transition: 0.5s; }
        
        .signal { font-size: 1.8rem; font-weight: bold; margin-bottom: 10px; text-transform: uppercase; }
        .strategy { color: #848689; font-size: 1rem; margin-bottom: 30px; }
        
        /* Botão para abrir o jogo */
        .btn-jogo { background: #d9185c; color: white; text-decoration: none; padding: 15px 30px; border-radius: 10px; font-weight: bold; display: inline-block; margin-top: 20px; box-shadow: 0 4px 15px rgba(217, 24, 92, 0.4); }

        /* Cores da IA */
        .rosa { border-color: #ff007a !important; color: #ff007a; }
        .roxo { border-color: #a020f0 !important; color: #a020f0; }
        .azul { border-color: #007aff !important; color: #007aff; }

        #conf-bar { width: 100%; height: 4px; background: #333; margin-top: 20px; border-radius: 2px; }
        #fill { height: 100%; width: 0%; background: #d9185c; transition: 1s; }
    </style>
</head>
<body>

    <div id="main-card">
        <div id="status-text" class="signal">AGUARDANDO IA...</div>
        <div id="strategy-text" class="strategy">Conectando ao servidor Render</div>
        
        <div id="conf-bar"><div id="fill"></div></div>

        <a href="https://m.elephantbet.co.ao/pt/game/aviator" target="_blank" class="btn-jogo">ABRIR ELEPHANTBET</a>
    </div>

    <script>
        const socket = io("https://ia-backend-aviator.onrender.com");

        socket.on("connect", () => {
            document.getElementById("status-text").innerText = "SISTEMA ONLINE";
            document.getElementById("strategy-text").innerText = "Aguardando próxima vela";
        });

        socket.on("receber_sinal", (dados) => {
            const card = document.getElementById("main-card");
            const status = document.getElementById("status-text");
            const fill = document.getElementById("fill");

            status.innerText = dados.sinal;
            document.getElementById("strategy-text").innerText = dados.estrategia || dados.motivo;
            
            // Aplica cor do sinal ao card
            card.className = dados.cor;
            status.className = "signal " + dados.cor;
            
            const conf = parseInt(dados.confianca) || 0;
            fill.style.width = conf + "%";

            if(conf >= 90) window.navigator.vibrate([200, 100, 200]);
        });

        socket.on("connect_error", () => {
            document.getElementById("status-text").innerText = "IA EM STANDBY";
            document.getElementById("strategy-text").innerText = "O Render está acordando (50s)...";
        });
    </script>
</body>
</html>
